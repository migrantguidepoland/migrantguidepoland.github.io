// Translation data for all languages
const translations = {
    pl: {
        title: "MigrantGuidePoland - Kompleksowa pomoc dla migrant√≥w w Polsce",
        brand: "MigrantGuidePoland",
        nav: {
            about: "O nas",
            map: "Mapa termin√≥w",
            faq: "AI FAQ", 
            law: "Prawo 2025",
            services: "Us≈Çugi MOS",
            contact: "Kontakt 24/7"
        },
        hero: {
            badge: "Najszybsza obs≈Çuga MOS w Polsce",
            title1: "Rewolucja",
            title2: "w legalizacji pobytu", 
            subtitle: "AI + MOS + Praca.gov.pl = Sukces",
            desc1: "Pierwsza w Polsce platforma AI do monitorowania proces√≥w migracyjnych. ≈öredni czas realizacji:",
            days: "30 dni",
            desc2: "Obs≈Çuga w 4 jƒôzykach z t≈Çumaczeniami AI na 47 jƒôzyk√≥w.",
            btn1: "ü§ñRozpocznij konsultacjƒô AI",
            btn2: "üìäZobacz terminy w miastach"
        },
        about: {
            title: "O nas",
            subtitle: "Tw√≥j niezawodny partner w sprawach migracyjnych",
            text: "MigrantGuidePoland to innowacyjna platforma ≈ÇƒÖczƒÖca sztucznƒÖ inteligencjƒô z g≈ÇƒôbokƒÖ znajomo≈õciƒÖ polskiego prawa migracyjnego. Pomagamy migrantom szybko i skutecznie rozwiƒÖzywaƒá sprawy legalizacji pobytu, zatrudnienia i integracji z polskim spo≈Çecze≈Ñstwem."
        },
        map: {
            title: "üó∫Ô∏è Interaktywna mapa termin√≥w MOS",
            subtitle: "Sprawd≈∫ aktualne terminy w urzƒôdach wojew√≥dzkich",
            legend: {
                title: "Legenda termin√≥w:",
                fast: "30-35 dni (najszybsze)",
                standard: "40-50 dni (standard)", 
                slow: "60+ dni (wyd≈Çu≈ºone)"
            }
        },
        faq: {
            title: "ü§ñ AI FAQ - Inteligentne odpowiedzi",
            subtitle: "Zadaj pytanie AI o procedury migracyjne",
            placeholder: "Postaw pytania pro Kartu Pobytu, MOS, Praca.gov.pl...",
            search: "üîç",
            q1: "Ile czasu trwa procedura Karty Pobytu przez MOS?",
            a1: "Dziƒôki naszemu AI monitoringowi ≈õredni czas to 30-45 dni w zale≈ºno≈õci od miasta. System MOS znacznie przyspieszy≈Ç procedury od 2024 roku.",
            q2: "Czy portal Praca.gov.pl wymaga testu rynku pracy?",
            a2: "Nie, od 2024 roku wiƒôkszo≈õƒá wniosk√≥w przez Praca.gov.pl jest zwolniona z testu rynku pracy. Nasz AI analizuje ka≈ºdy przypadek indywidualnie.",
            q3: "Jakie dokumenty sƒÖ wymagane do Obywatelstwa?", 
            a3: "Lista dokument√≥w zale≈ºy od podstawy prawnej. Nasz AI Premium analizuje Tw√≥j przypadek i przygotowuje spersonalizowanƒÖ listƒô wymaga≈Ñ."
        },
        law: {
            title: "‚öñÔ∏è Prawo 2025 - Nowe Zmiany",
            subtitle: "Najnowsze zmiany w prawie migracyjnym",
            item1: {
                title: "Uproszczenie procedur MOS",
                text: "Od stycznia 2025 MOS wprowadza nowe procedury cyfrowe"
            },
            item2: {
                title: "Nowa ustawa o pracy",
                text: "Rozszerzone prawa dla pracownik√≥w z kraj√≥w trzecich"
            },
            item3: {
                title: "AI w procedurach urzƒôdowych", 
                text: "Wdro≈ºenie sztucznej inteligencji w ocenie wniosk√≥w"
            }
        },
        services: {
            title: "üè¢ Us≈Çugi MOS",
            subtitle: "Pe≈Çen zakres us≈Çug migracyjnych",
            card1: {
                title: "Karta Pobytu",
                text: "Za≈Çatwianie i przed≈Çu≈ºanie karty pobytu"
            },
            card2: {
                title: "Zezwolenie na pracƒô",
                text: "Zezwolenia na pracƒô i zmiana pracodawcy"
            },
            card3: {
                title: "Obywatelstwo",
                text: "Procedury uzyskania polskiego obywatelstwa"
            }
        },
        contact: {
            title: "üìû Kontakt 24/7",
            subtitle: "Skontaktuj siƒô z nami w ka≈ºdej chwili",
            phone: {
                title: "Telefon 24/7",
                desc: "Dostƒôpni ca≈Çodobowo"
            },
            email: {
                title: "Email", 
                desc: "Odpowiadamy w 2h"
            },
            whatsapp: {
                title: "WhatsApp",
                desc: "Czat w czasie rzeczywistym"
            }
        },
        chat: {
            welcome: "Witaj! Jestem AI asystentem MigrantGuidePoland. Jak mogƒô Ci pom√≥c?",
            placeholder: "Napisz pytanie...",
            thinking: "My≈õlƒô...",
            error: "Przepraszam, wystƒÖpi≈Ç b≈ÇƒÖd. Spr√≥buj ponownie."
        }
    },
    ua: {
        title: "MigrantGuidePoland - –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞ –¥–ª—è –º—ñ–≥—Ä–∞–Ω—Ç—ñ–≤ –≤ –ü–æ–ª—å—â—ñ",
        brand: "MigrantGuidePoland", 
        nav: {
            about: "–ü—Ä–æ –Ω–∞—Å",
            map: "–ö–∞—Ä—Ç–∞ —Ç–µ—Ä–º—ñ–Ω—ñ–≤",
            faq: "AI FAQ",
            law: "–ü—Ä–∞–≤–æ 2025", 
            services: "–ü–æ—Å–ª—É–≥–∏ MOS",
            contact: "–ö–æ–Ω—Ç–∞–∫—Ç 24/7"
        },
        hero: {
            badge: "–ù–∞–π—à–≤–∏–¥—à–∞ –æ–±—Å–ª—É–≥–∞ MOS –≤ –ü–æ–ª—å—â—ñ",
            title1: "–†–µ–≤–æ–ª—é—Ü—ñ—è",
            title2: "–≤ –ª–µ–≥–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–æ–±—É—Ç—É",
            subtitle: "AI + MOS + Praca.gov.pl = –£—Å–ø—ñ—Ö",
            desc1: "–ü–µ—Ä—à–∞ –≤ –ü–æ–ª—å—â—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ AI –¥–æ –º–æ–Ω—ñ—Ç–æ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω–∏—Ö. –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:",
            days: "30 –¥–Ω—ñ–≤",
            desc2: "–û–±—Å–ª—É–≥–∞ –≤ 4 –º–æ–≤–∞—Ö –∑ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω—è–º–∏ AI –Ω–∞ 47 –º–æ–≤.",
            btn1: "ü§ñ–†–æ–∑–ø–æ—á–Ω–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—é AI",
            btn2: "üìä–î–∏–≤–∏—Å—å —Ç–µ—Ä–º—ñ–Ω–∏ –≤ –º—ñ—Å—Ç–∞—Ö"
        },
        about: {
            title: "–ü—Ä–æ –Ω–∞—Å",
            subtitle: "–í–∞—à –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–ø—Ä–∞–≤–∞—Ö",
            text: "MigrantGuidePoland - —Ü–µ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, —â–æ –æ–±'—î–¥–Ω—É—î —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç –∑ –≥–ª–∏–±–æ–∫–∏–º –∑–Ω–∞–Ω–Ω—è–º –ø–æ–ª—å—Å—å–∫–æ–≥–æ –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω–æ–≥–æ –ø—Ä–∞–≤–∞. –ú–∏ –¥–æ–ø–æ–º–∞–≥–∞—î–º–æ –º—ñ–≥—Ä–∞–Ω—Ç–∞–º —à–≤–∏–¥–∫–æ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –ª–µ–≥–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–æ–±—É—Ç—É, –ø—Ä–∞—Ü–µ–≤–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –≤ –ø–æ–ª—å—Å—å–∫–µ —Å—É—Å–ø—ñ–ª—å—Å—Ç–≤–æ."
        },
        map: {
            title: "üó∫Ô∏è –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞ —Ç–µ—Ä–º—ñ–Ω—ñ–≤ MOS", 
            subtitle: "–ü–µ—Ä–µ–≤—ñ—Ä –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∏ –≤ —É—Ä—è–¥–∞—Ö –≤–æ—î–≤–æ–¥—Å—å–∫–∏—Ö",
            legend: {
                title: "–õ–µ–≥–µ–Ω–¥–∞ —Ç–µ—Ä–º—ñ–Ω—ñ–≤:",
                fast: "30-35 –¥–Ω—ñ–≤ (–Ω–∞–π—à–≤–∏–¥—à–µ)",
                standard: "40-50 –¥–Ω—ñ–≤ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)",
                slow: "60+ –¥–Ω—ñ–≤ (–∑–∞—Ç—Ä–∏–º–∞–Ω—ñ)"
            }
        },
        faq: {
            title: "ü§ñ AI FAQ - –Ü–Ω—Ç–µ–ª—ñ–≥–µ–Ω—Ç–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ",
            subtitle: "–ü–æ—Å—Ç–∞–≤ –ø–∏—Ç–∞–Ω–Ω—è AI –ø—Ä–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω—ñ", 
            placeholder: "–ü–æ—Å—Ç–∞–≤ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –ö–∞—Ä—Ç—É –ü–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è, MOS, Praca.gov.pl...",
            search: "üîç",
            q1: "–°–∫—ñ–ª—å–∫–∏ —á–∞—Å—É —Ç—Ä–∏–≤–∞—î –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ö–∞—Ä—Ç–∏ –ü–æ–±—É—Ç—É —á–µ—Ä–µ–∑ MOS?",
            a1: "–ó–∞–≤–¥—è–∫–∏ –Ω–∞—à–æ–º—É AI –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å —Ç–æ 30-45 –¥–Ω—ñ–≤ –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –º—ñ—Å—Ç–∞. –°–∏—Å—Ç–µ–º–∞ MOS –∑–Ω–∞—á–Ω–æ –ø—Ä–∏—Å–∫–æ—Ä–∏–ª–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –≤—ñ–¥ 2024 —Ä–æ–∫—É.",
            q2: "–ß–∏ –ø–æ—Ä—Ç–∞–ª Praca.gov.pl –≤–∏–º–∞–≥–∞—î —Ç–µ—Å—Ç—É —Ä–∏–Ω–∫—É –ø—Ä–∞—Ü—ñ?",
            a2: "–ù—ñ, –≤—ñ–¥ 2024 —Ä–æ–∫—É –±—ñ–ª—å—à—ñ—Å—Ç—å –∑–∞—è–≤–æ–∫ —á–µ—Ä–µ–∑ Praca.gov.pl —î –∑–≤—ñ–ª—å–Ω–µ–Ω–∞ –∑ —Ç–µ—Å—Ç—É —Ä–∏–Ω–∫—É –ø—Ä–∞—Ü—ñ. –ù–∞—à AI –∞–Ω–∞–ª—ñ–∑—É—î –∫–æ–∂–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–æ.",
            q3: "–Ø–∫—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ —î –≤–∏–º–∞–≥–∞–Ω—ñ –¥–æ –ì—Ä–æ–º–∞–¥—è–Ω—Å—Ç–≤–∞?",
            a3: "–°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –æ—Å–Ω–æ–≤–∏ –ø—Ä–∞–≤–Ω–æ—ó. –ù–∞—à AI Premium –∞–Ω–∞–ª—ñ–∑—É—î –¢–≤—ñ–π –≤–∏–ø–∞–¥–æ–∫ —ñ –ø—Ä–∏–≥–æ—Ç–æ–≤—É—î –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—É –ª–∏—Å—Ç—É –≤–∏–º–∞–≥–∞–Ω—å."
        },
        law: {
            title: "‚öñÔ∏è –ü—Ä–∞–≤–æ 2025 - –ù–æ–≤—ñ –ó–º—ñ–Ω–∏",
            subtitle: "–û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω–æ–º—É –ø—Ä–∞–≤—ñ",
            item1: {
                title: "–°–ø—Ä–æ—â–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ–¥—É—Ä MOS",
                text: "–í—ñ–¥ —Å—ñ—á–Ω—è 2025 MOS –∑–∞–ø—Ä–æ–≤–∞–¥–∂—É—î –Ω–æ–≤—ñ —Ü–∏—Ñ—Ä–æ–≤—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏"
            },
            item2: {
                title: "–ù–æ–≤–∏–π –∑–∞–∫–æ–Ω –ø—Ä–æ –ø—Ä–∞—Ü—é",
                text: "–†–æ–∑—à–∏—Ä–µ–Ω—ñ –ø—Ä–∞–≤–∞ –¥–ª—è –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –∑ –∫—Ä–∞—ó–Ω —Ç—Ä–µ—Ç—ñ—Ö"
            },
            item3: {
                title: "AI –≤ —É—Ä—è–¥–æ–≤–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö",
                text: "–í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É –≤ –æ—Ü—ñ–Ω—Ü—ñ –∑–∞—è–≤–æ–∫"
            }
        },
        services: {
            title: "üè¢ –ü–æ—Å–ª—É–≥–∏ MOS",
            subtitle: "–ü–æ–≤–Ω–∏–π —Å–ø–µ–∫—Ç—Ä –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω–∏—Ö –ø–æ—Å–ª—É–≥",
            card1: {
                title: "–ö–∞—Ä—Ç–∞ –ü–æ–±—É—Ç—É",
                text: "–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏ –ø–æ–±—É—Ç—É"
            },
            card2: {
                title: "–î–æ–∑–≤—ñ–ª –Ω–∞ —Ä–æ–±–æ—Ç—É", 
                text: "–î–æ–∑–≤–æ–ª–∏ –Ω–∞ —Ä–æ–±–æ—Ç—É —Ç–∞ –∑–º—ñ–Ω–∞ —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—è"
            },
            card3: {
                title: "–ì—Ä–æ–º–∞–¥—è–Ω—Å—Ç–≤–æ",
                text: "–ü—Ä–æ—Ü–µ–¥—É—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–ª—å—Å—å–∫–æ–≥–æ –≥—Ä–æ–º–∞–¥—è–Ω—Å—Ç–≤–∞"
            }
        },
        contact: {
            title: "üìû –ö–æ–Ω—Ç–∞–∫—Ç 24/7",
            subtitle: "–ó–≤'—è–∂–∏—Å—å –∑ –Ω–∞–º–∏ –≤ –∫–æ–∂–Ω—ñ–π —Ö–≤–∏–ª–∏–Ω—ñ",
            phone: {
                title: "–¢–µ–ª–µ—Ñ–æ–Ω 24/7",
                desc: "–î–æ—Å—Ç—É–ø–Ω—ñ —Ü—ñ–ª–æ–¥–æ–±–æ–≤–æ"
            },
            email: {
                title: "Email",
                desc: "–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î–º–æ –≤ 2–≥"
            },
            whatsapp: {
                title: "WhatsApp", 
                desc: "–ß–∞—Ç –≤ —á–∞—Å—ñ –¥—ñ–π—Å–Ω–æ–º—É"
            }
        },
        chat: {
            welcome: "–ü—Ä–∏–≤—ñ—Ç! –Ø AI –∞—Å–∏—Å—Ç–µ–Ω—Ç MigrantGuidePoland. –Ø–∫ –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏?",
            placeholder: "–ù–∞–ø–∏—à—ñ—Ç—å –ø–∏—Ç–∞–Ω–Ω—è...",
            thinking: "–î—É–º–∞—é...",
            error: "–í–∏–±–∞—á—Ç–µ, —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–Ω–æ–≤—É."
        }
    },
    en: {
        title: "MigrantGuidePoland - Comprehensive help for migrants in Poland",
        brand: "MigrantGuidePoland",
        nav: {
            about: "About us",
            map: "Appointment map", 
            faq: "AI FAQ",
            law: "Law 2025",
            services: "MOS Services",
            contact: "Contact 24/7"
        },
        hero: {
            badge: "Fastest MOS service in Poland",
            title1: "Revolution",
            title2: "in residence legalization",
            subtitle: "AI + MOS + Praca.gov.pl = Success",
            desc1: "First AI platform in Poland for monitoring migration processes. Average completion time:",
            days: "30 days",
            desc2: "Service in 4 languages with AI translations to 47 languages.",
            btn1: "ü§ñStart AI consultation",
            btn2: "üìäView appointment times in cities"
        },
        about: {
            title: "About us",
            subtitle: "Your reliable partner in migration matters",
            text: "MigrantGuidePoland is an innovative platform combining artificial intelligence with deep knowledge of Polish migration law. We help migrants quickly and effectively resolve residence legalization, employment and integration issues with Polish society."
        },
        map: {
            title: "üó∫Ô∏è Interactive MOS appointment map",
            subtitle: "Check current appointment times in voivodeship offices",
            legend: {
                title: "Appointment legend:",
                fast: "30-35 days (fastest)",
                standard: "40-50 days (standard)",
                slow: "60+ days (delayed)"
            }
        },
        faq: {
            title: "ü§ñ AI FAQ - Intelligent answers",
            subtitle: "Ask AI about migration procedures",
            placeholder: "Ask about Residence Card, MOS, Praca.gov.pl...",
            search: "üîç",
            q1: "How long does the Residence Card procedure through MOS take?",
            a1: "Thanks to our AI monitoring, the average time is 30-45 days depending on the city. The MOS system significantly accelerated procedures from 2024.",
            q2: "Does the Praca.gov.pl portal require a labor market test?",
            a2: "No, since 2024 most applications through Praca.gov.pl are exempt from the labor market test. Our AI analyzes each case individually.",
            q3: "What documents are required for Citizenship?",
            a3: "The list of documents depends on the legal basis. Our AI Premium analyzes your case and prepares a personalized list of requirements."
        },
        law: {
            title: "‚öñÔ∏è Law 2025 - New Changes",
            subtitle: "Latest changes in migration law",
            item1: {
                title: "Simplification of MOS procedures",
                text: "From January 2025 MOS introduces new digital procedures"
            },
            item2: {
                title: "New labor law",
                text: "Extended rights for workers from third countries"
            },
            item3: {
                title: "AI in government procedures",
                text: "Implementation of artificial intelligence in application assessment"
            }
        },
        services: {
            title: "üè¢ MOS Services",
            subtitle: "Full range of migration services",
            card1: {
                title: "Residence Card",
                text: "Processing and extending residence cards"
            },
            card2: {
                title: "Work permit",
                text: "Work permits and employer changes"
            },
            card3: {
                title: "Citizenship",
                text: "Procedures for obtaining Polish citizenship"
            }
        },
        contact: {
            title: "üìû Contact 24/7",
            subtitle: "Contact us at any time",
            phone: {
                title: "Phone 24/7",
                desc: "Available 24/7"
            },
            email: {
                title: "Email",
                desc: "We respond within 2h"
            },
            whatsapp: {
                title: "WhatsApp",
                desc: "Real-time chat"
            }
        },
        chat: {
            welcome: "Hello! I am AI assistant of MigrantGuidePoland. How can I help you?",
            placeholder: "Type your question...",
            thinking: "Thinking...",
            error: "Sorry, an error occurred. Please try again."
        }
    },
    ru: {
        title: "MigrantGuidePoland - –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–æ–º–æ—â—å –¥–ª—è –º–∏–≥—Ä–∞–Ω—Ç–æ–≤ –≤ –ü–æ–ª—å—à–µ",
        brand: "MigrantGuidePoland",
        nav: {
            about: "–û –Ω–∞—Å",
            map: "–ö–∞—Ä—Ç–∞ –∑–∞–ø–∏—Å–∏",
            faq: "AI FAQ",
            law: "–ü—Ä–∞–≤–æ 2025",
            services: "–£—Å–ª—É–≥–∏ MOS",
            contact: "–ö–æ–Ω—Ç–∞–∫—Ç 24/7"
        },
        hero: {
            badge: "–°–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ MOS –≤ –ü–æ–ª—å—à–µ",
            title1: "–†–µ–≤–æ–ª—é—Ü–∏—è",
            title2: "–≤ –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è",
            subtitle: "AI + MOS + Praca.gov.pl = –£—Å–ø–µ—Ö",
            desc1: "–ü–µ—Ä–≤–∞—è –≤ –ü–æ–ª—å—à–µ AI –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:",
            days: "30 –¥–Ω–µ–π",
            desc2: "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ 4 —è–∑—ã–∫–∞—Ö —Å AI –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –Ω–∞ 47 —è–∑—ã–∫–æ–≤.",
            btn1: "ü§ñ–ù–∞—á–∞—Ç—å AI –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é",
            btn2: "üìä–°–º–æ—Ç—Ä–µ—Ç—å —Å—Ä–æ–∫–∏ –≤ –≥–æ—Ä–æ–¥–∞—Ö"
        },
        about: {
            title: "–û –Ω–∞—Å",
            subtitle: "–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö",
            text: "MigrantGuidePoland - —ç—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Å –≥–ª—É–±–æ–∫–∏–º –∑–Ω–∞–Ω–∏–µ–º –ø–æ–ª—å—Å–∫–æ–≥–æ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø—Ä–∞–≤–∞. –ú—ã –ø–æ–º–æ–≥–∞–µ–º –º–∏–≥—Ä–∞–Ω—Ç–∞–º –±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–µ—à–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è, —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø–æ–ª—å—Å–∫–æ–µ –æ–±—â–µ—Å—Ç–≤–æ."
        },
        map: {
            title: "üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–∞–ø–∏—Å–∏ MOS",
            subtitle: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ä–æ–∫–∏ –≤ –≤–æ–µ–≤–æ–¥—Å–∫–∏—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö",
            legend: {
                title: "–õ–µ–≥–µ–Ω–¥–∞ —Å—Ä–æ–∫–æ–≤:",
                fast: "30-35 –¥–Ω–µ–π (—Å–∞–º—ã–µ –±—ã—Å—Ç—Ä—ã–µ)",
                standard: "40-50 –¥–Ω–µ–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)",
                slow: "60+ –¥–Ω–µ–π (–∑–∞–¥–µ—Ä–∂–∞–Ω–Ω—ã–µ)"
            }
        },
        faq: {
            title: "ü§ñ AI FAQ - –£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã",
            subtitle: "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI –æ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö",
            placeholder: "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –æ –ö–∞—Ä—Ç–µ –ü—Ä–µ–±—ã–≤–∞–Ω–∏—è, MOS, Praca.gov.pl...",
            search: "üîç",
            q1: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ö–∞—Ä—Ç—ã –ü—Ä–µ–±—ã–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ MOS?",
            a1: "–ë–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞—à–µ–º—É AI –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 30-45 –¥–Ω–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≥–æ—Ä–æ–¥–∞. –°–∏—Å—Ç–µ–º–∞ MOS –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏–ª–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å 2024 –≥–æ–¥–∞.",
            q2: "–¢—Ä–µ–±—É–µ—Ç –ª–∏ –ø–æ—Ä—Ç–∞–ª Praca.gov.pl —Ç–µ—Å—Ç–∞ —Ä—ã–Ω–∫–∞ —Ç—Ä—É–¥–∞?",
            a2: "–ù–µ—Ç, —Å 2024 –≥–æ–¥–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞—è–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Praca.gov.pl –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã –æ—Ç —Ç–µ—Å—Ç–∞ —Ä—ã–Ω–∫–∞ —Ç—Ä—É–¥–∞. –ù–∞—à AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —Å–ª—É—á–∞–π –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ.",
            q3: "–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è –ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–∞?",
            a3: "–°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∞–≤–æ–≤–æ–π –æ—Å–Ω–æ–≤—ã. –ù–∞—à AI Premium –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à —Å–ª—É—á–∞–π –∏ –≥–æ—Ç–æ–≤–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π."
        },
        law: {
            title: "‚öñÔ∏è –ü—Ä–∞–≤–æ 2025 - –ù–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è",
            subtitle: "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º –ø—Ä–∞–≤–µ",
            item1: {
                title: "–£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä MOS",
                text: "–° —è–Ω–≤–∞—Ä—è 2025 MOS –≤–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã"
            },
            item2: {
                title: "–ù–æ–≤—ã–π –∑–∞–∫–æ–Ω –æ —Ç—Ä—É–¥–µ",
                text: "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –∏–∑ —Ç—Ä–µ—Ç—å–∏—Ö —Å—Ç—Ä–∞–Ω"
            },
            item3: {
                title: "AI –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö",
                text: "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –≤ –æ—Ü–µ–Ω–∫–µ –∑–∞—è–≤–ª–µ–Ω–∏–π"
            }
        },
        services: {
            title: "üè¢ –£—Å–ª—É–≥–∏ MOS",
            subtitle: "–ü–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —É—Å–ª—É–≥",
            card1: {
                title: "–ö–∞—Ä—Ç–∞ –ü—Ä–µ–±—ã–≤–∞–Ω–∏—è",
                text: "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è"
            },
            card2: {
                title: "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É",
                text: "–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ä–∞–±–æ—Ç—É –∏ —Å–º–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è"
            },
            card3: {
                title: "–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ",
                text: "–ü—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å—Å–∫–æ–≥–æ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–∞"
            }
        },
        contact: {
            title: "üìû –ö–æ–Ω—Ç–∞–∫—Ç 24/7",
            subtitle: "–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è",
            phone: {
                title: "–¢–µ–ª–µ—Ñ–æ–Ω 24/7",
                desc: "–î–æ—Å—Ç—É–ø–Ω—ã –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ"
            },
            email: {
                title: "Email",
                desc: "–û—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ 2—á"
            },
            whatsapp: {
                title: "WhatsApp",
                desc: "–ß–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
            }
        },
        chat: {
            welcome: "–ü—Ä–∏–≤–µ—Ç! –Ø AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç MigrantGuidePoland. –ö–∞–∫ –º–æ–≥—É –ø–æ–º–æ—á—å?",
            placeholder: "–ù–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å...",
            thinking: "–î—É–º–∞—é...",
            error: "–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
        }
    }
};

// Current language state
let currentLang = 'ua';
let chatMessages = [];
let chatOpen = false;

// DOM Content Loaded
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing...');

    initializeLanguageSwitcher();
    initializeScrollSpy();
    initializeMapInteractions();
    initializeFAQSearch();
    initializeChatbot();

    // Set initial language
    setLanguage(currentLang);
    console.log('Initialization complete');
});

// Language Switching Functionality
function initializeLanguageSwitcher() {
    const langButtons = document.querySelectorAll('.lang-btn');

    langButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            const selectedLang = this.getAttribute('data-lang');
            setLanguage(selectedLang);

            // Update button states
            langButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
        });
    });
}

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('selectedLanguage', lang);

    // Update document language
    document.documentElement.lang = lang;

    // Update all translatable elements
    const elements = document.querySelectorAll('[data-i18n], [data-i18n-placeholder]');

    elements.forEach(element => {
        const key = element.getAttribute('data-i18n') || element.getAttribute('data-i18n-placeholder');
        if (key) {
            const translation = getNestedTranslation(translations[lang], key);
            if (translation) {
                if (element.hasAttribute('data-i18n-placeholder')) {
                    element.placeholder = translation;
                } else {
                    element.textContent = translation;
                }
            }
        }
    });

    // Update page title
    if (translations[lang].title) {
        document.title = translations[lang].title;
    }
}

// Helper function to get nested translation
function getNestedTranslation(obj, path) {
    return path.split('.').reduce((current, key) => {
        return current && current[key] ? current[key] : null;
    }, obj);
}

// ScrollSpy functionality
function initializeScrollSpy() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');

    window.addEventListener('scroll', () => {
        const scrollPos = window.pageYOffset + 100; // offset for fixed header

        sections.forEach(section => {
            const top = section.offsetTop;
            const height = section.offsetHeight;
            const id = section.getAttribute('id');

            if (scrollPos >= top && scrollPos < top + height) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    });
}

// Map interactions
function initializeMapInteractions() {
    const cityMarkers = document.querySelectorAll('.city-marker');

    cityMarkers.forEach(marker => {
        marker.addEventListener('click', function() {
            const city = this.getAttribute('data-city');
            const time = this.getAttribute('data-time');
            showCityInfo(city, time);
        });

        marker.addEventListener('mouseenter', function() {
            const city = this.getAttribute('data-city');
            const time = this.getAttribute('data-time');
            showTooltip(this, city, time);
        });

        marker.addEventListener('mouseleave', function() {
            hideTooltip();
        });
    });
}

function showCityInfo(city, time) {
    const cityNames = {
        gdansk: 'Gda≈Ñsk',
        bydgoszcz: 'Bydgoszcz',
        olsztyn: 'Olsztyn',
        poznan: 'Pozna≈Ñ',
        lodz: '≈Å√≥d≈∫',
        warszawa: 'Warszawa',
        kielce: 'Kielce',
        wroclaw: 'Wroc≈Çaw',
        krakow: 'Krak√≥w'
    };

    const messages = {
        pl: `Aktualny czas oczekiwania w ${cityNames[city]}: ${time} dni`,
        ua: `–ü–æ—Ç–æ—á–Ω–∏–π —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –≤ ${cityNames[city]}: ${time} –¥–Ω—ñ–≤`,
        en: `Current waiting time in ${cityNames[city]}: ${time} days`,
        ru: `–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ ${cityNames[city]}: ${time} –¥–Ω–µ–π`
    };

    alert(messages[currentLang]);
}

function showTooltip(element, city, time) {
    // Simple tooltip implementation
    const tooltip = document.createElement('div');
    tooltip.className = 'city-tooltip';
    tooltip.innerHTML = `${city}: ${time} dni`;
    tooltip.style.cssText = `
        position: absolute;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 12px;
        z-index: 1000;
        pointer-events: none;
    `;

    document.body.appendChild(tooltip);

    const moveHandler = (e) => {
        tooltip.style.left = e.pageX + 10 + 'px';
        tooltip.style.top = e.pageY - 10 + 'px';
    };

    element.addEventListener('mousemove', moveHandler);
    element.addEventListener('mouseleave', () => {
        element.removeEventListener('mousemove', moveHandler);
    });
}

function hideTooltip() {
    const tooltip = document.querySelector('.city-tooltip');
    if (tooltip) {
        tooltip.remove();
    }
}

// FAQ Search functionality
function initializeFAQSearch() {
    const searchBtn = document.querySelector('.faq-search-btn');
    const searchInput = document.querySelector('.faq-search .form-control');

    if (searchBtn && searchInput) {
        searchBtn.addEventListener('click', function() {
            const query = searchInput.value.trim();
            if (query) {
                performFAQSearch(query);
            }
        });

        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const query = this.value.trim();
                if (query) {
                    performFAQSearch(query);
                }
            }
        });
    }
}

function performFAQSearch(query) {
    // Show thinking message in chat instead of alert
    if (!chatOpen) {
        openChat();
    }
    addMessage('bot', getTranslation('chat.thinking'));

    // Simulate AI response after 2 seconds
    setTimeout(() => {
        const responses = {
            'karta': '≈öredni czas oczekiwania na Kartƒô Pobotu wynosi 30-45 dni przez system MOS.',
            'praca': 'Portal Praca.gov.pl nie wymaga ju≈º testu rynku pracy od 2024 roku dla wiƒôkszo≈õci wniosk√≥w.',
            'obywatelstwo': 'Wymagane dokumenty do obywatelstwa zale≈ºƒÖ od podstawy prawnej. Sprawdzƒô indywidualnie Tw√≥j przypadek.',
            'default': `Pytanie: "${query}". Analiza AI: To jest symulacja odpowiedzi. W rzeczywistej wersji AI analizowa≈Çby zapytanie i udziela≈Ç szczeg√≥≈Çowych odpowiedzi na tematy migracyjne.`
        };

        let response = responses.default;
        Object.keys(responses).forEach(key => {
            if (query.toLowerCase().includes(key) && key !== 'default') {
                response = responses[key];
            }
        });

        // Replace the thinking message with actual response
        const lastMessage = document.querySelector('.message:last-child');
        if (lastMessage && lastMessage.classList.contains('bot-message')) {
            lastMessage.textContent = response;
        } else {
            addMessage('bot', response);
        }
    }, 2000);
}

// Enhanced Chatbot functionality
function initializeChatbot() {
    console.log('Initializing chatbot...');

    const chatLaunch = document.getElementById('chatLaunch');
    const chatWidget = document.getElementById('chatWidget');
    const chatClose = document.getElementById('chatClose');
    const chatSend = document.getElementById('chatSend');
    const chatInput = document.getElementById('chatInput');

    if (!chatLaunch || !chatWidget || !chatClose || !chatSend || !chatInput) {
        console.error('Chat elements not found:', {
            chatLaunch: !!chatLaunch,
            chatWidget: !!chatWidget,
            chatClose: !!chatClose,
            chatSend: !!chatSend,
            chatInput: !!chatInput
        });
        return;
    }

    console.log('Chat elements found, adding event listeners...');

    // Launch chat
    chatLaunch.addEventListener('click', function() {
        console.log('Chat launch clicked');
        openChat();
    });

    // Close chat
    chatClose.addEventListener('click', function() {
        console.log('Chat close clicked');
        closeChat();
    });

    // Send message
    chatSend.addEventListener('click', function() {
        console.log('Chat send clicked');
        sendMessage();
    });

    // Enter key to send
    chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            console.log('Enter pressed in chat input');
            sendMessage();
        }
    });

    console.log('Chatbot initialized successfully');
}

function openChat() {
    console.log('Opening chat');
    const chatWidget = document.getElementById('chatWidget');
    const notificationBadge = document.querySelector('.notification-badge');

    if (chatWidget) {
        chatWidget.style.display = 'flex';
        chatOpen = true;

        // Hide notification badge
        if (notificationBadge) {
            notificationBadge.style.display = 'none';
        }

        // Focus on input
        const chatInput = document.getElementById('chatInput');
        if (chatInput) {
            setTimeout(() => chatInput.focus(), 300);
        }
    }
}

function closeChat() {
    console.log('Closing chat');
    const chatWidget = document.getElementById('chatWidget');

    if (chatWidget) {
        chatWidget.style.display = 'none';
        chatOpen = false;
    }
}

function sendMessage() {
    const chatInput = document.getElementById('chatInput');
    const message = chatInput.value.trim();

    if (!message) return;

    console.log('Sending message:', message);

    // Add user message
    addMessage('user', message);
    chatInput.value = '';

    // Show typing indicator
    setTimeout(() => {
        addMessage('bot', getTranslation('chat.thinking'));

        // Simulate AI response
        setTimeout(() => {
            const responses = [
                'Dziƒôkujƒô za pytanie! Analiza AI...',
                'To bardzo interesujƒÖce pytanie dotyczƒÖce procedur migracyjnych.',
                'Sprawdzam aktualne informacje w mojej bazie danych...',
                'Zgodnie z najnowszymi regulacjami MOS...'
            ];

            const randomResponse = responses[Math.floor(Math.random() * responses.length)];

            // Replace thinking message with response
            const messages = document.querySelectorAll('#chatMessages .message');
            const lastMessage = messages[messages.length - 1];
            if (lastMessage && lastMessage.classList.contains('bot-message')) {
                lastMessage.textContent = randomResponse + ' (To jest demo AI)';
            }
        }, 1500);
    }, 500);
}

function addMessage(sender, text) {
    const chatMessages = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${sender}-message`;
    messageDiv.textContent = text;

    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function getTranslation(key) {
    return getNestedTranslation(translations[currentLang], key) || key;
}

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            const headerOffset = 80;
            const elementPosition = target.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }
    });
});

// Load saved language preference
const savedLang = localStorage.getItem('selectedLanguage');
if (savedLang && translations[savedLang]) {
    currentLang = savedLang;
    // Update button state
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === savedLang) {
            btn.classList.add('active');
        }
    });
}